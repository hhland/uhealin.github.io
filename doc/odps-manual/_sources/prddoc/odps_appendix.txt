附录
========

ODPS常用错误信息说明
-----------------------

ODPS的异常信息的格式是: 

::

  异常编号:通用描述 - 上下文相关说明

例如，ODPS-0130131:Table not found - 'myproject' 'mytable'。其中异常编号和通用描述一一对应。上下文相关说明视情况尽可能给出方便定位异常的提示。对于异常编号的格式：

::

  ODPS-MMCCCCX

其中：

::

  MM 是模块编号，2位整数
    00为系统异常，如果用户在使用过程中发现这种异常，请通过阿里云工单系统联系我们；
    01为SQL Task；
  CCCC是异常代码，4位整数；
  X表示异常的严重等级，1位整数。其中：1为最轻微错误，例如用户输入错误；9为最高等级，例如原子性的错误；

SQL Task异常类型登记表
~~~~~~~~~~~~~~~~~~~~~~~~~~

+--------------+---------------------------------+--------+---------------------------------------------+
| 编号         | 触发条件                        | 严重级 | 通用异常信息                                |
+==============+=================================+========+=============================================+
| ODPS-0110005 | 在顶层捕获所有未知异常          | 5      | Unknown exception from metadata operation   |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0110011 | 权限不足                        | 1      | Authorization exception                     |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0110021 | 参数有误                        | 1      | Invalid parameters                          |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0110031 | 非法对象类型                    | 1      | Invalid object type                         |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0110041 | 无效meta操作                    | 1      | Invalid meta operation                      |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0110061 | DDLTask操作失败                 | 1      | Failed to run ddltask                       |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0110071 | 元数据数据库初始化异常          | 1      | OTS initialization exception                |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0110081 | 元数据数据库TRANSACTION异常     | 1      | OTS transaction exception                   |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0110091 | 元数据数据库条件筛选异常        | 1      | OTS filtering exception                     |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0110101 | 元数据数据库执行异常            | 1      | OTS processing exception                    |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0110111 | 元数据数据库错误数据            | 1      | OTS invalid data object                     |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0110121 | 元数据数据库未知错误            | 1      | Unknown OTS exception                       |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0110131 | StorageDescriptor 压缩异常      | 1      | StorageDescriptor compression exception     |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0110141 | 数据版本异常                    | 1      | Data version exception                      |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0110999 | 无法回滚                        | 9      | Critical! Internal error happened in commit |
|              |                                 |        | operation and rollback failed,              |
|              |                                 |        | possible breach of atomicity                |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0120005 | 在顶层捕获所有未知异常          | 5      | Unknown exception from processor            |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0120011 | 权限不足                        | 1      | Authorization exception                     |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0120021 | 相同group中separator不同        | 1      | the delimitor must be the same in wm_concat |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0120031 | 某instance被取消多次            | 1      | Instance has been cancelled                 |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0121011 | 正则解析pattern错误             | 1      | Invalid regular expression pattern          |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0121021 | 匹配正则时引起的错误            | 1      | Regexec call failed                         |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0121035 | 类型转换错误                    | 5      | Illegal implicit type cast                  |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0121045 | 不支持的返回值                  | 5      | Unsupported return type                     |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0121055 | 参数是空串或者NULL              | 5      | Empty argument value                        |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0121065 | 参数值错误                      | 5      | Argument value out of range                 |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0121075 | 参数个数不合法                  | 5      | Invalid number of arguments                 |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0121081 | 参数基本类型错误                | 1      | Illegal argument type                       |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0121095 | 其他参数错误                    | 5      | Invalid arguments                           |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0121105 | 需要输入常数，但输入列名        | 5      | Constant argument value expected            |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0121115 | 需要输入列名，但输入常数        | 5      | Column reference expected                   |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0121125 | 不支持的UDF或其它操作           | 5      | Unsupported function or operation           |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0121135 | 内存分配异常                    | 5      | Malloc memory failed                        |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0121145 | 数据计算错误                    | 5      | Data overflow                               |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0123019 | 磁盘读写异常                    | 9      | Distributed file operation exception        |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0123023 | 不支持的Reduce                  | 3      | Unsupported reduce type                     |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0123031 | 分区异常                        | 1      | Partition exception                         |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0123043 | 缓存溢出                        | 3      | buffer overflow                             |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0123055 | 脚本异常                        | 5      | Script exception                            |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0123065 | Join异常                        | 5      | Join exception                              |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0123075 | 哈希异常                        | 5      | Hash exception                              |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0123081 | datetime 字符串异常             | 1      | Invalid datetime string                     |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0123091 | 非法类型转换                    | 1      | Illegal type cast                           |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0123105 | 作业被取消                      | 5      | Job got killed                              |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0123111 | 格式串不匹配日期字符串          | 1      | format string does not match datetime string|
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0123121 | MAPJOIN异常                     | 1      | Mapjoin exception                           |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0123131 | 自定义函数异常                  | 1      | User defined function exception             |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0130005 | 在顶层捕获所有未知异常          | 5      | Unknown exception from parser               |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0130013 | 权限不足, 安全检查不通过        | 3      | Authorization exception                     |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0130025 | 输入输出异常                    | 5      | Failed to I/O                               |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0130031 | 删除表时发现源表不存在          | 1      | Failed to drop table                        |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0130041 | 统计信息相关异常                | 1      | Statistics exception                        |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0130051 | 子查询相关异常                  | 1      | Exception in sub query                      |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0130061 | 表不可用                        | 1      | Invalid table                               |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0130071 | 语法解析异常                    | 1      | Semantic analysis exception                 |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0130081 | UDF方法签名                     | 1      | Invalid UDF reference                       |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0130091 | UDF参数不合法                   | 1      | Invalid parameters                          |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0130101 | 数据类型不合法                  | 1      | Ambiguous data type                         |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0130111 | in条件判断语句中的子查询        |        |                                             |
|              | 动态分区优化异常                | 1      | Subquery partition pruning exception        |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0130121 | 非法参数类型                    | 1      | Invalid argument type                       |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0130131 | 表不存在                        | 1      | Table not found                             |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0130141 | 不允许的隐式类型转换            | 1      | Illegal implicit type cast                  |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0130151 | 无效的数据类型                  | 1      | Illegal data type                           |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0130161 | 语法解析出错                    | 1      | Parse exception                             |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0130171 | 创建视图异常                    | 1      | Creating view exception                     |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0130181 | 窗口函数异常                    | 1      | Window function exception                   |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0130191 | 非法的列或分区键                | 1      | Invalid column or partition key             |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0130201 | 视图不存在                      | 1      | View not found                              |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0130211 | 表或视图已存在                  | 1      | Table or view already exists                |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0130221 | 参数个法不合法                  | 1      | Invalid number of arguments                 |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0130231 | 视图状态无效                    | 1      | Invalid view                                |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0130241 | 无效的union操作                 | 1      | Illegal union operation                     |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0130252 | 不支持笛卡尔积                  | 2      | Cartesian product is not allowed            |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0130261 | 非法的元数据                    | 1      | Invalid schema                              |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0130271 | 分区不存在                      | 1      | Partition does not exist                    |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0140005 | 在顶层捕获所有未知异常          | 5      | Unknown exception from planner              |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0140011 | 不允许的显示式类型转换          | 1      | Illegal type cast                           |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0140021 | 不允许的隐式类型转换            | 1      | Illegal implicit type cast                  |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0140031 | 无效的列名或表名引表            | 1      | Invalid column reference                    |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0140041 | UDF名不存在                     | 1      | Invalid UDF reference                       |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0140051 | 非法函数                        | 1      | Invalid function                            |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0140061 | 输入参数异常                    | 1      | Invalid parameters                          |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0140071 | 不支持的运算符                  | 1      | Unsupported operator                        |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0140081 | 小表 (left) outer join 大表或者 | 1      | Unsupported join type                       |
|              | 大表(right) outer join小表      |        |                                             |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0140091 | 不支持的执行计划类型            | 1      | Unsupported stage type                      |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0140105 | 多路输出冲突                    | 5      | Invalid multiple I/O                        |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0140133 | 无法识别数据结构                | 3      | Invalid structure                           |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0140151 | 排序算法出现错误                | 1      | Can not do topologic sort, the stages       |
|              |                                 |        | is not a DAG                                |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0140171 | 安全的沙箱模型异常              | 1      | Sandbox violation exception                 |
+--------------+---------------------------------+--------+---------------------------------------------+
| ODPS-0140181 | 执行计划异常                    | 1      | Sql plan exception                          |
+--------------+---------------------------------+--------+---------------------------------------------+
